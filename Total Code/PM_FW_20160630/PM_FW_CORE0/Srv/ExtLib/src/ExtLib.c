/*
***********************************************************************************************************************
*                  Copyright(c) 北京康吉森技术有限公司 2015
*           Beijing Consen Technologies Co.,Ltd. All rights reserved.
*
*
*  项目名称    : 安全控制系统
* 
*  模块名称    : 算法库模块
*
*  文件名称    : ExtLib.c
*
*  功能简介    : 外部库（TON，TOF等）
*
*  作者            : 李琦
*
*  创建日期    : 2016-05-03
*
*  版本信息    : V1.0
*
*  修订信息    : 无
*
***********************************************************************************************************************
*/

/*
***********************************************************************************************************************
*                                包含头文件
***********************************************************************************************************************
*/
#include <Srv/Scheduler/include/string.h>
#include "../inc/ExtLib.h"


double_t ExtABS(double_t x);
double_t ExtSQRT(double_t x);
double_t ExtLN(double_t x);
double_t ExtLOG(double_t x);
double_t ExtEXP(double_t x);
double_t ExtSIN(double_t x);
double_t ExtCOS(double_t x);
double_t ExtTAN(double_t x);
double_t ExtCOT(double_t x);
double_t ExtASIN(double_t x);
double_t ExtACOS(double_t x);
double_t ExtATAN(double_t x);
double_t ExtACOT(double_t x);
double_t ExtEXPT(double_t x, double_t y);


/*
***********************************************************************************************************************
*                                局部变量声明
***********************************************************************************************************************
*/

static ExtLibMathTable stMathTable[]={
                                                {"abs", ExtABS},
                                                {"sqrt", ExtSQRT},
                                                {"ln", ExtLN},
                                                {"log", ExtLOG},
                                                {"exp", ExtEXP},
                                                {"sin", ExtSIN},
                                                {"cos", ExtCOS},
                                                {"tan", ExtTAN},
                                                {"cot", ExtCOT},
                                                {"asin", ExtASIN},
                                                {"acos", ExtACOS},
                                                {"atan", ExtATAN},
                                                {"acot", ExtACOT},
                                                {"expt", (fp)ExtEXPT},
                                                {"null", NULL}
                                            };



/*
***********************************************************************************************************************
*                                局部函数声明
***********************************************************************************************************************
*/


/*
***********************************************************************************************************************
*                                全局函数实现
***********************************************************************************************************************
*/
/*
***********************************************************************************************************************
* 函数名称: ExtLibInit
*
* 功能描述: 初始化
*
* 输入参数: 无
*
* 输出参数: 无
*
* 返 回 值  : 无
*
* 注意事项: 无
***********************************************************************************************************************
*/
void ExtLibInit(void)
{
    memcpy(&(stMathTable[0].cName[0]), "abs", sizeof("abs"));
    stMathTable[0].pFunc = ExtABS;
    return;
}

/*
***********************************************************************************************************************
* 函数名称: ExtABS
*
* 功能描述: 绝对值运算
*
* 输入参数: x
*
* 输出参数: 无
*
* 返 回 值  : |x|
*
* 注意事项: 无
***********************************************************************************************************************
*/
double_t ExtABS(double_t x)
{
    double_t dRet = (double_t)0.0;

    if(x >= 0)
    {
        dRet = x;
    }
    else
    {
        dRet = -x;
    }
    return dRet;
}

/*
***********************************************************************************************************************
* 函数名称: ExtSQRT
*
* 功能描述: 开平方运算
*
* 输入参数: x
*
* 输出参数: 无
*
* 返 回 值  : 平方根
*
* 注意事项: 无
***********************************************************************************************************************
*/
double_t ExtSQRT(double_t x)
{
    double_t dRet = (double_t)0.0;

    if(x >= 0)
    {
//        dRet = sqrt(x);
    }
    else
    {
        dRet = 1.7e308;//无效值
    }
    return dRet;
}

/*
***********************************************************************************************************************
* 函数名称: ExtLN
*
* 功能描述: 常对数运算
*
* 输入参数: x
*
* 输出参数: 无
*
* 返 回 值  : 常对数
*
* 注意事项: 无
***********************************************************************************************************************
*/
double_t ExtLN(double_t x)
{
    double_t dRet = (double_t)0.0;

    if(x >= 0)
    {
//        dRet = log(x);
    }
    else
    {
        dRet = 1.7e308;//无效值
    }
    return dRet;
}

/*
***********************************************************************************************************************
* 函数名称: ExtLOG
*
* 功能描述: 自然对数运算
*
* 输入参数: x
*
* 输出参数: 无
*
* 返 回 值  : 自然对数
*
* 注意事项: 无
***********************************************************************************************************************
*/
double_t ExtLOG(double_t x)
{
    double_t dRet = (double_t)0.0;

    if(x >= 0)
    {
//        dRet = log10(x);
    }
    else
    {
        dRet = 1.7e308;//无效值
    }
    return dRet;
}

/*
***********************************************************************************************************************
* 函数名称: ExtEXP
*
* 功能描述: 指数运算
*
* 输入参数: x
*
* 输出参数: 无
*
* 返 回 值  : e^x
*
* 注意事项: 无
***********************************************************************************************************************
*/
double_t ExtEXP(double_t x)
{
    double_t dRet = (double_t)0.0;

//    dRet = exp(x);

    return dRet;
}

/*
***********************************************************************************************************************
* 函数名称: ExtSIN
*
* 功能描述: 正弦运算
*
* 输入参数: x
*
* 输出参数: 无
*
* 返 回 值  : sin(x)
*
* 注意事项: 无
***********************************************************************************************************************
*/
double_t ExtSIN(double_t x)
{
    double_t dRet = (double_t)0.0;

//    dRet = sin(x);

    return dRet;
}

/*
***********************************************************************************************************************
* 函数名称: ExtCOS
*
* 功能描述: 余弦运算
*
* 输入参数: x
*
* 输出参数: 无
*
* 返 回 值  : cos(x)
*
* 注意事项: 无
***********************************************************************************************************************
*/
double_t ExtCOS(double_t x)
{
    double_t dRet = (double_t)0.0;

//    dRet = cos(x);

    return dRet;
}

/*
***********************************************************************************************************************
* 函数名称: ExtTAN
*
* 功能描述: 正切运算
*
* 输入参数: x
*
* 输出参数: 无
*
* 返 回 值  : tan(x)
*
* 注意事项: 无
***********************************************************************************************************************
*/
double_t ExtTAN(double_t x)
{
    double_t dRet = (double_t)0.0;

//    dRet = tan(x);

    return dRet;
}

/*
***********************************************************************************************************************
* 函数名称: ExtCOT
*
* 功能描述: 余切运算
*
* 输入参数: x
*
* 输出参数: 无
*
* 返 回 值  : cot(x)
*
* 注意事项: 无
***********************************************************************************************************************
*/
double_t ExtCOT(double_t x)
{
    double_t dRet = (double_t)0.0;

//    dRet = cot(x);

    return dRet;
}

/*
***********************************************************************************************************************
* 函数名称: ExtASIN
*
* 功能描述: 反正弦运算
*
* 输入参数: x
*
* 输出参数: 无
*
* 返 回 值  : asin(x)
*
* 注意事项: 无
***********************************************************************************************************************
*/
double_t ExtASIN(double_t x)
{
    double_t dRet = (double_t)0.0;

    if((x >= -1 )&&(x <= 1))
    {
//        dRet = asin(x);
    }
    else
    {
        dRet = 1.7e308;//无效值
    }
    return dRet;
}

/*
***********************************************************************************************************************
* 函数名称: ExtACOS
*
* 功能描述: 反余弦运算
*
* 输入参数: x
*
* 输出参数: 无
*
* 返 回 值  : acos(x)
*
* 注意事项: 无
***********************************************************************************************************************
*/
double_t ExtACOS(double_t x)
{
    double_t dRet = (double_t)0.0;

    if((x >= -1 )&&(x <= 1))
    {
//        dRet = acos(x);
    }
    else
    {
        dRet = 1.7e308;//无效值
    }
    return dRet;
}

/*
***********************************************************************************************************************
* 函数名称: ExtATAN
*
* 功能描述: 反正切运算
*
* 输入参数: x
*
* 输出参数: 无
*
* 返 回 值  : atan(x)
*
* 注意事项: 无
***********************************************************************************************************************
*/
double_t ExtATAN(double_t x)
{
    double_t dRet = (double_t)0.0;

//    dRet = atan(x);

    return dRet;
}

/*
***********************************************************************************************************************
* 函数名称: ExtACOT
*
* 功能描述: 反余切运算
*
* 输入参数: x
*
* 输出参数: 无
*
* 返 回 值  : acot(x)
*
* 注意事项: 无
***********************************************************************************************************************
*/
double_t ExtACOT(double_t x)
{
    double_t dRet = (double_t)0.0;

//    dRet = acot(x);

    return dRet;
}

/*
***********************************************************************************************************************
* 函数名称: ExtEXPT
*
* 功能描述: 幂运算
*
* 输入参数: x
*
* 输出参数: 无
*
* 返 回 值  : expt(x,y)
*
* 注意事项: 无
***********************************************************************************************************************
*/
double_t ExtEXPT(double_t x, double_t y)
{
    double_t dRet = (double_t)0.0;

    {
//    dRet = pow(x, y);
    }

    return dRet;
}



/*
***********************************************************************************************************************
*                                局部函数实现
***********************************************************************************************************************
*/


/*
***********************************************************************************************************************
                                 文件结束
***********************************************************************************************************************
*/
